<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bible Verse Example</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org/dist/htmx.min.js"></script>
    <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/client-side-templates.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.0/mustache.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/parallax/3.1.0/parallax.min.js"></script>
</head>
<body class="bg-cover bg-center" style="background-image: url('https://source.unsplash.com/random/?church/2000x2000');">
    <div class="overflow-hidden h-screen" style="background-color: rgba(171, 71, 188, 0.2)">
        <nav class="bg-gray-800 text-white p-4">
            <div class="container mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <span class="text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-200 inline-block text-transparent bg-clip-text">
                        <a href="/htmx-tailwind-demo/" rel="noopener noreferrer" class="hover:underline pointer-events-auto">
                            Bible Verse Example
                        </a>
                    </span>
                </div>
                <button hx-on:click="htmx.toggleClass('#mobile-nav', 'hidden')" data-collapse-toggle="navbar-default" type="button" class="pointer-events-auto inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden focus:outline-none">
                    <span class="sr-only">Open navigation menu</span>
                    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                    </svg>
                </button>
                <div class="flex font-bold space-x-4 bg-gradient-to-r from-blue-200 to-purple-400 inline-block text-transparent bg-clip-text hidden w-full md:block md:w-auto">
                    <a href="https://htmx.org/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto">HTMX</a>
                    <a href="https://tailwindcss.com/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto">Tailwind CSS</a>
                    <a href="https://mustache.github.io/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto">Mustache.js</a>
                    <a href="https://matthew.wagerfield.com/parallax/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto">Parallax.js</a>
                </div>
            </div>
        </nav>
        <div id="mobile-nav" class="hidden h-screen text-4xl flex flex-col items-center justify-center font-bold space-x-4 w-screen z-50 bg-gray-800 px-4 py-4">
            <div class="bg-gradient-to-r from-blue-200 to-purple-400 inline-block text-transparent bg-clip-text">
                <a href="https://htmx.org/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto px-8 py-8">HTMX</a>
            </div>
            <div class="bg-gradient-to-r from-blue-200 to-purple-400 inline-block text-transparent bg-clip-text">

                <a href="https://tailwindcss.com/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto px-8 py-8">Tailwind CSS</a>
            </div>
            <div class="bg-gradient-to-r from-blue-200 to-purple-400 inline-block text-transparent bg-clip-text">
                <a href="https://mustache.github.io/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto px-8 py-8">Mustache.js</a>
            </div>
            <div class="bg-gradient-to-r from-blue-200 to-purple-400 inline-block text-transparent bg-clip-text">
                <a href="https://matthew.wagerfield.com/parallax/" target="_blank" rel="noopener noreferrer" class="hover:underline pointer-events-auto px-8 py-8">Parallax.js</a>
            </div>
        </div>
        <div id="scene" class="container mx-auto flex justify-center items-center h-screen">
            <div data-depth="0.25">
                <div hx-ext="client-side-templates">
                    <div
                        hx-trigger="load"
                        hx-get="https://labs.bible.org/api/?passage=random&type=json"
                        mustache-array-template="bible-verse" />
                    <template id="bible-verse">
                        <!-- {{#data}} -->
                        <figure class="bg-gray-800 rounded-xl p-8 border border-blue-400 max-w-sm">
                            <div class="">
                              <blockquote>
                                <p class="bg-gradient-to-r from-blue-200 to-purple-400 inline-block text-transparent bg-clip-text text-lg font-medium italic px-4 py-2 my-8 border-l-8 border-blue-200 border-solid">
                                    {{text}}
                                </p>
                              </blockquote>
                              <div class="flex flex-col space-between space-y-4">
                                <figcaption class="md:font-medium sm:font-small">
                                    <div class="text-white sm:font-small">
                                        {{bookname}}
                                    </div>
                                    <div class="text-white sm:font-small">
                                        Chapter {{chapter}} Verse {{verse}}
                                    </div>
                                  </figcaption>
                                  <button
                                  type="button"
                                  onclick="window.open('https://biblehub.com/{{bookname}}/{{chapter}}-{{verse}}.htm'.replace(/ /g,'_').toLowerCase(),'_blank')"
                                  class="pointer-events-auto bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded border-2 border-neutral-50 px-7 h-16 sm:text-sm md:font-medium uppercase"
                                  data-twe-ripple-init
                                  data-twe-ripple-color="dark">
                                  View on Bible Hub
                                </button>
                              </div>
                            </div>
                          </figure>
                      <!-- {{/data}} -->
                    </template>
                </div>
            </div>
        </div>   
    </div>
    <script>
        // Modify request headers to avoid Cross-Origin Request Blocked (CORS)
        document.addEventListener('htmx:configRequest', (evt) => { evt.detail.headers = [] });
        // Enable Parallax.js functionality on content card on desktop
        const isMobile = /iPhone|iPad|Android/i.test(navigator.userAgent);
        if (!isMobile) {
            _ = new Parallax(document.getElementById('scene'));
        };
    </script>
</body>
</html>
